"use strict";(self.webpackChunknon_fungible_cup=self.webpackChunknon_fungible_cup||[]).push([[666],{8848:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var n=r(5861),a=r(7757),i=r.n(a),l=r(7294),o=r(5420),u=r(7813),c=JSON.parse('{"0xFf9582Ef1A4A9c51FFB7F66ddCb4D22C35A7cd4B":"0x8cdf57a2560d6d2eca461046949d4529e1962eb12bf3148230084877493d1f5f03000fe3ed1f43d2b3ab55da40c12acc96c836ee3e88cd36d3f06747215653321b","0xc5FdaA35D33e72634aBc8C3EBbb84255a5Cd20b0":"0xa0c0ddd26f052c79cd36bb375314bce2c49e7b2499b8d0e319dffe3f00b99dd07eac04463de26563969ffd5bde7267ba473682d0a5edd080e19b60dc3d4f14fc1b"}'),s=r(5671),m=r(3144),f=r(8348),d=r(4308),h=r(2947),v=r(765),p=new d.Yd(h.i),S={},E=v.O$.from(0),b=v.O$.from(-1);function g(e,t,r,n){var a={fault:t,operation:r};return void 0!==n&&(a.value=n),p.throwError(e,d.Yd.errors.NUMERIC_FAULT,a)}for(var w="0";w.length<256;)w+=w;function N(e){if("number"!=typeof e)try{e=v.O$.from(e).toNumber()}catch(t){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+w.substring(0,e):p.throwArgumentError("invalid decimal size","decimals",e)}function T(e,t){null==t&&(t=0);var r=N(t),n=(e=v.O$.from(e)).lt(E);n&&(e=e.mul(b));for(var a=e.mod(r).toString();a.length<r.length-1;)a="0"+a;a=a.match(/^([0-9]*[1-9]|0)(0*)/)[1];var i=e.div(r).toString();return e=1===r.length?i:i+"."+a,n&&(e="-"+e),e}function A(e,t){null==t&&(t=0);var r=N(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||p.throwArgumentError("invalid decimal value","value",e);var n="-"===e.substring(0,1);n&&(e=e.substring(1)),"."===e&&p.throwArgumentError("missing value","value",e);var a=e.split(".");a.length>2&&p.throwArgumentError("too many decimal points","value",e);var i=a[0],l=a[1];for(i||(i="0"),l||(l="0");"0"===l[l.length-1];)l=l.substring(0,l.length-1);for(l.length>r.length-1&&g("fractional component exceeds decimals","underflow","parseFixed"),""===l&&(l="0");l.length<r.length-1;)l+="0";var o=v.O$.from(i),u=v.O$.from(l),c=o.mul(r).add(u);return n&&(c=c.mul(b)),c}var _=function(){function e(t,r,n,a){(0,s.Z)(this,e),t!==S&&p.throwError("cannot use FixedFormat constructor; use FixedFormat.from",d.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=a,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(a),this._multiplier=N(a),Object.freeze(this)}return(0,m.Z)(e,null,[{key:"from",value:function(t){if(t instanceof e)return t;"number"==typeof t&&(t="fixed128x".concat(t));var r=!0,n=128,a=18;if("string"==typeof t)if("fixed"===t);else if("ufixed"===t)r=!1;else{var i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||p.throwArgumentError("invalid fixed format","format",t),r="u"!==i[1],n=parseInt(i[2]),a=parseInt(i[3])}else if(t){var l=function(e,r,n){return null==t[e]?n:(typeof t[e]!==r&&p.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e])};r=l("signed","boolean",r),n=l("width","number",n),a=l("decimals","number",a)}return n%8&&p.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),a>80&&p.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",a),new e(S,r,n,a)}}]),e}(),C=function(){function e(t,r,n,a){(0,s.Z)(this,e),t!==S&&p.throwError("cannot use FixedNumber constructor; use FixedNumber.from",d.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=a,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}return(0,m.Z)(e,[{key:"_checkFormat",value:function(e){this.format.name!==e.format.name&&p.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}},{key:"addUnsafe",value:function(t){this._checkFormat(t);var r=A(this._value,this.format.decimals),n=A(t._value,t.format.decimals);return e.fromValue(r.add(n),this.format.decimals,this.format)}},{key:"subUnsafe",value:function(t){this._checkFormat(t);var r=A(this._value,this.format.decimals),n=A(t._value,t.format.decimals);return e.fromValue(r.sub(n),this.format.decimals,this.format)}},{key:"mulUnsafe",value:function(t){this._checkFormat(t);var r=A(this._value,this.format.decimals),n=A(t._value,t.format.decimals);return e.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}},{key:"divUnsafe",value:function(t){this._checkFormat(t);var r=A(this._value,this.format.decimals),n=A(t._value,t.format.decimals);return e.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}},{key:"floor",value:function(){var t=this.toString().split(".");1===t.length&&t.push("0");var r=e.from(t[0],this.format),n=!t[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(x.toFormat(r.format))),r}},{key:"ceiling",value:function(){var t=this.toString().split(".");1===t.length&&t.push("0");var r=e.from(t[0],this.format),n=!t[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(x.toFormat(r.format))),r}},{key:"round",value:function(t){null==t&&(t=0);var r=this.toString().split(".");if(1===r.length&&r.push("0"),(t<0||t>80||t%1)&&p.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;var n=e.from("1"+w.substring(0,t),this.format),a=y.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(a).floor().divUnsafe(n)}},{key:"isZero",value:function(){return"0.0"===this._value||"0"===this._value}},{key:"isNegative",value:function(){return"-"===this._value[0]}},{key:"toString",value:function(){return this._value}},{key:"toHexString",value:function(e){if(null==e)return this._hex;e%8&&p.throwArgumentError("invalid byte width","width",e);var t=v.O$.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,f.$m)(t,e/8)}},{key:"toUnsafeFloat",value:function(){return parseFloat(this.toString())}},{key:"toFormat",value:function(t){return e.fromString(this._value,t)}}],[{key:"fromValue",value:function(t,r,n){return null!=n||null==r||(0,v.Zm)(r)||(n=r,r=null),null==r&&(r=0),null==n&&(n="fixed"),e.fromString(T(t,r),_.from(n))}},{key:"fromString",value:function(t,r){null==r&&(r="fixed");var n=_.from(r),a=A(t,n.decimals);!n.signed&&a.lt(E)&&g("unsigned value cannot be negative","overflow","value",t);var i=null;n.signed?i=a.toTwos(n.width).toHexString():(i=a.toHexString(),i=(0,f.$m)(i,n.width/8));var l=T(a,n.decimals);return new e(S,i,l,n)}},{key:"fromBytes",value:function(t,r){null==r&&(r="fixed");var n=_.from(r);if((0,f.lE)(t).length>n.width/8)throw new Error("overflow");var a=v.O$.from(t);n.signed&&(a=a.fromTwos(n.width));var i=a.toTwos((n.signed?0:1)+n.width).toHexString(),l=T(a,n.decimals);return new e(S,i,l,n)}},{key:"from",value:function(t,r){if("string"==typeof t)return e.fromString(t,r);if((0,f._t)(t))return e.fromBytes(t,r);try{return e.fromValue(t,0,r)}catch(n){if(n.code!==d.Yd.errors.INVALID_ARGUMENT)throw n}return p.throwArgumentError("invalid FixedNumber value","value",t)}},{key:"isFixedNumber",value:function(e){return!(!e||!e._isFixedNumber)}}]),e}(),x=C.from(1),y=C.from("0.5"),P=new d.Yd("units/5.6.1"),k=["wei","kwei","mwei","gwei","szabo","finney","ether"];function I(e){return function(e,t){if("string"==typeof t){var r=k.indexOf(t);-1!==r&&(t=3*r)}return T(e,null!=t?t:18)}(e,18)}function R(e){return function(e,t){if("string"!=typeof e&&P.throwArgumentError("value must be a string","value",e),"string"==typeof t){var r=k.indexOf(t);-1!==r&&(t=3*r)}return A(e,null!=t?t:18)}(e,18)}var L,U=r(3518),H=r(24),F=r(7351);!function(e){e[e.Private=0]="Private",e[e.Public=1]="Public",e[e.Pause=2]="Pause",e[e.NotStarted=3]="NotStarted"}(L||(L={}));var O=L,D=function(){};D.CHAINID=80001,D.CHAIN_NAME="Mumbai",D.SCAN_URL="https://mumbai.polygonscan.com/tx/",D.ALCHEMY_URL="https://polygon-mumbai.g.alchemy.com/v2/swsN7kPLOjbRJKlQXWKUmcQNc9us4GhM",D.CSHIRTS_PRIVATESALE_PRICE="0.01",D.CSHIRTS_PUBLICSALE_PRICE="0.01",D.CSHIRTS_PRIVATESALE_MAXPERWALLET=2,D.CSHIRTS_PUBLICSALE_MAXPERWALLET=2,D.CSHIRTS_PRIVATESALE_DATE=new Date(Date.UTC(2022,7,27,20,0,0)),D.CSHIRTS_PUBLICSALE_DATE=new Date(Date.UTC(2022,7,28,20,0,0)),D.CSHIRTS_CONTRACTADDRESS="0xa8f577eAD83994aeF5948c58811cA88ef0809d58",D.CSHIRTS_CONTRACTABI=["function mintWaitlist(bytes calldata _signature, uint256 _amount) public payable","function mint(uint256 _amount) public payable","function totalSupply() public view returns (uint256)","function _price() public view returns (uint256)","function _max_nft() public view returns (uint256)","function _stage() public view returns (uint8)","function MAX_SUPPLY() public view returns (uint256)"],D.TOURNAMENTS=[{name:"Serie A 2022/23",url:"/tournaments/serieA22-23",date:null,totalSupply:0,privateSalePrice:"free-mint",publicSalePrice:"1 ETH",gamification:60},{name:"Liga 2022/23",url:"/tournaments/liga22-23",date:null,totalSupply:0,privateSalePrice:"free-mint",publicSalePrice:"1 ETH",gamification:60},{name:"NFL 2022/23",url:"/tournaments/nfl22-23",date:null,totalSupply:0,privateSalePrice:"free-mint",publicSalePrice:"1 ETH",gamification:60},{name:"UEFA Champions League 2022/23",url:"/tournaments/uechampionsleague22-23",date:null,totalSupply:0,privateSalePrice:"free-mint",publicSalePrice:"1 ETH",gamification:60},{name:"NBA 2022/23",url:"/tournaments/nba22-23",date:null,totalSupply:0,privateSalePrice:"free-mint",publicSalePrice:"1 ETH",gamification:60},{name:"NHL 2022/23",url:"/tournaments/nhl22-23",date:null,totalSupply:0,privateSalePrice:"free-mint",publicSalePrice:"1 ETH",gamification:60},{name:"World Cup Qatar 2022",url:"/tournaments/worldcupqatar22",date:null,totalSupply:0,privateSalePrice:"free-mint",publicSalePrice:"1 ETH",gamification:60}];var M,$=D,B=r.p+"static/loading-8047d3a937898ac29154ef108cc88dc4.gif",V=r(1597);"undefined"!=typeof window&&window.ethereum&&(M=new H.Q(window.ethereum),window.ethereum.on("chainChanged",(function(e){window.location.reload()})));var Z=function(){var e,t=new Date,r=(0,l.useState)(0),a=r[0],s=r[1],m=(0,l.useState)(O.NotStarted),f=m[0],d=m[1],h=(0,l.useState)(O.Private),p=h[0],S=h[1],E=(0,l.useState)(""),b=E[0],g=E[1],w=(0,l.useState)(!1),N=w[0],T=w[1],A=(0,l.useState)(""),_=A[0],C=A[1],x=(0,l.useState)(1),y=x[0],P=x[1],k=(0,l.useState)(),L=k[0],H=k[1],D=(0,l.useState)(!1),Z=D[0],Y=D[1],W=(0,l.useState)(!1),X=W[0],j=W[1],z=(0,l.useState)(0),Q=z[0],G=z[1],q=(0,l.useState)(""),J=q[0],K=q[1],ee=(0,l.useState)(""),te=ee[0],re=ee[1],ne=l.useState(0),ae=ne[0],ie=ne[1],le=l.useState(""),oe=le[0],ue=le[1],ce=l.useState(0),se=ce[0],me=ce[1];l.useEffect((function(){function e(){return(e=(0,n.Z)(i().mark((function e(){var t,r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new F.r($.ALCHEMY_URL),r=new U.CH($.CSHIRTS_CONTRACTADDRESS,$.CSHIRTS_CONTRACTABI,t),e.next=4,r.totalSupply();case 4:n=e.sent,G(v.O$.from(n).toNumber());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r(){return(r=(0,n.Z)(i().mark((function e(){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new F.r($.ALCHEMY_URL),n=new U.CH($.CSHIRTS_CONTRACTADDRESS,$.CSHIRTS_CONTRACTABI,r),Promise.all([n.MAX_SUPPLY(),n.totalSupply(),n._price(),n._stage(),n._max_nft()]).then((function(e){console.log(e),ie(v.O$.from(e[0]).toNumber()),G(v.O$.from(e[1]).toNumber()),ue(I(v.O$.from(e[2]).toString())),me(parseFloat(I(v.O$.from(e[2])))),S(t<$.CSHIRTS_PUBLICSALE_DATE?O.Private:O.Public),s(e[4]),2==e[3]?(d(O.Private),S(O.Private)):1==e[3]?(d(O.Public),S(O.Public)):0==e[3]&&(t<$.CSHIRTS_PRIVATESALE_DATE?d(O.NotStarted):d(O.Pause))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){r.apply(this,arguments)}(),setInterval((function(){!function(){e.apply(this,arguments)}()}),5e3)}),[]),"undefined"!=typeof window&&(e=function(){var e=(0,n.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=26;break}return e.prev=1,C(""),e.next=5,M.send("eth_requestAccounts",[]);case 5:return e.next=7,M.getNetwork();case 7:if(e.sent.chainId!=$.CHAINID){e.next=18;break}return t=M.getSigner(),H(t),e.next=13,t.getAddress();case 13:(r=e.sent)?(g(r),T(!0)):g(""),e.next=19;break;case 18:C("Please select the "+$.CHAIN_NAME+" network in your wallet");case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),C(e.t0.message);case 24:e.next=27;break;case 26:C("Please install Metamask");case 27:case 28:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(){return e.apply(this,arguments)}}());var fe=function(){var e=(0,n.Z)(i().mark((function e(){var t,r,n,a,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(window.ethereum&&N&&b&&Q<ae)){e.next=50;break}if(t=c[b],r=new U.CH($.CSHIRTS_CONTRACTADDRESS,$.CSHIRTS_CONTRACTABI,L),e.prev=3,f!=O.Private){e.next=8;break}return e.next=7,r.mintWaitlist(t,y,{value:R(oe).mul(y),gasLimit:1e7});case 7:n=e.sent;case 8:if(f!=O.Public){e.next=12;break}return e.next=11,r.mint(y,{value:R(oe).mul(y),gasLimit:1e7});case 11:n=e.sent;case 12:if(!n){e.next=43;break}return K(n.hash),Y(!0),e.prev=15,e.next=18,n.wait();case 18:1==e.sent.status&&(j(!0),Y(!1)),e.next=39;break;case 22:return e.prev=22,e.t0=e.catch(15),e.prev=24,e.next=27,M.getTransaction(n.hash);case 27:return a=e.sent,e.next=30,M.call(a,a.blockNumber);case 30:e.sent,e.next=39;break;case 33:e.prev=33,e.t1=e.catch(24),console.log({txInternalError:e.t1}),re(e.t1.reason),Y(!1),j(!1);case 39:return e.next=41,r.totalSupply();case 41:l=e.sent,G(v.O$.from(l).toNumber());case 43:e.next=50;break;case 45:e.prev=45,e.t2=e.catch(3),j(!1),Y(!1),re(e.t2.message);case 50:case 51:case"end":return e.stop()}}),e,null,[[3,45],[15,22],[24,33]])})));return function(){return e.apply(this,arguments)}}();return l.createElement(o.Z,{pageTitle:"Non Fungible Cup: Mint",container:"inner-page"},l.createElement(u.Z,{title:"Mint your C-Shirts",subtitle:"Connect your wallet, mint your NFTs and start playing"}),l.createElement("section",{className:"tf-section tf-item tf-mint"},l.createElement("div",{className:"container"},l.createElement("div",{className:N?"hide":"row"},l.createElement("div",{className:"col-md-12 center"},l.createElement("a",{href:"#",className:N?"hide":"tf-button btn-effect",onClick:e},l.createElement("span",{className:"boder-fade"}),l.createElement("span",{className:"effect"},"Connect your wallet")),l.createElement("br",null),l.createElement("span",null,l.createElement("strong",null,_)),l.createElement("br",null))),l.createElement("div",{className:N?"row":"hide"},l.createElement("div",{className:"col-md-12 center"},l.createElement("h4",null,p==O.Public?"Public sale":"Private sale"),l.createElement("div",{className:N?"wallet":"hide"},"Wallet connected: ",b),l.createElement("div",{className:N&&Q<ae?"mint-container":"hide"},l.createElement("div",{className:f==O.Pause?"mint-container toUpper":"hide"},"Mint paused",l.createElement("div",null,"Minted ",Q," of ",ae)),l.createElement("div",{className:f==O.NotStarted?"mint-container toUpper":"hide"},"Mint will start at ",f==O.Private?$.CSHIRTS_PRIVATESALE_DATE.toUTCString():$.CSHIRTS_PUBLICSALE_DATE.toUTCString()),l.createElement("div",{className:f==O.Private||f==O.Public?"mint-container toUpper":"hide"},"With your C-Shirts you can free mint tournaments NFTs and start earning ETH for every match win",l.createElement("div",null,"Minted ",Q," of ",ae)),l.createElement("div",null,"Price: ",se),l.createElement("div",{className:f==O.Private||f==O.Public?"d-flex justify-content-center":"hide"},l.createElement("div",{className:"d-flex flex-row"},l.createElement("div",{className:"p-2"},l.createElement("button",{onClick:function(){y>1&&(P(y-1),me(parseFloat(oe)*(y-1)))},disabled:y-1==0,className:"increment-decrement"},"-")),l.createElement("div",{className:"p-2"},l.createElement("input",{type:"text",value:y,onChange:function(){}})),l.createElement("div",{className:"p-2"},l.createElement("button",{onClick:function(){y<a&&(P(y+1),me(parseFloat(oe)*(y+1)))},disabled:y==a,className:"increment-decrement"},"+")))),l.createElement("div",{className:f==O.Private||f==O.Public?"mint-button":"hide"},l.createElement("button",{className:N?"tf-button btn-effect":"hide",onClick:fe,disabled:Z},l.createElement("span",{className:"boder-fade"}),l.createElement("span",{className:"effect"},"MINT")),l.createElement("div",{className:Z?"mint-messages":"hide"},"Mint in progress ... ",l.createElement("a",{href:$.SCAN_URL+J,title:"See transaction",target:"_blank"},"See transaction"),l.createElement("br",null),l.createElement("img",{src:B})),l.createElement("div",{className:X?"mint-messages":"hide"},"Mint succeeded! ",l.createElement("a",{href:$.SCAN_URL+J,title:"See transaction",target:"_blank"},"See transaction")),l.createElement("div",{className:te?"mint-error mint-messages":"hide"},"Something went wrong: ",te))),l.createElement("div",{className:Q>=ae&&f==O.Public?"mint-container":"hide"},"COLLECTION MINTED OUT"),l.createElement("div",{className:Q>=ae&&f==O.Private?"mint-container":"hide"},"PRIVATE SALE MINTED OUT",l.createElement("br",null),"Public sales start on ",$.CSHIRTS_PUBLICSALE_PRICE.toLocaleString()))))),l.createElement("section",{className:"tf-section tf-item tf-mint tf-nextdrops"},l.createElement("div",{className:"container"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-12 center subtitle"},l.createElement("h5",null,"Mint a C-Shirt and have a free-mint for the next drops"),l.createElement("p",{className:"sub-title"},"Only C-Shirts holders can have a free-mint on every tournament"))),l.createElement("div",{className:"row next-mints"},l.createElement("div",{className:"col-md-12 center"},$.TOURNAMENTS.map((function(e){return l.createElement(V.Link,{to:e.url,key:e.url},l.createElement("div",{className:"box-text corner-box"},l.createElement("div",null,l.createElement("strong",null,e.name)),l.createElement("p",{className:"alignLeft"},"Date: ",e.date?e.date.toUTCString():"TBD",l.createElement("br",null),"Total supply: ",0!=e.totalSupply?e.totalSupply:"TBD",l.createElement("br",null),"Private sale: ",e.privateSalePrice,l.createElement("br",null),"Public sale: ",e.publicSalePrice,l.createElement("br",null),"Gamification: ",e.gamification,"% of sold (in ETH)")))})))))))}}}]);
//# sourceMappingURL=component---src-pages-mint-tsx-55079fc05b8a7ee0aa3c.js.map